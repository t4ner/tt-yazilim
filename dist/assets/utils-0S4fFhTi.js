import{c as e,r as t,R as r}from"./vendor-CgDN6SX1.js";var n={exports:{}},o=n.exports=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){r.r(t);var n=function(e){return Array.isArray(e)?e:[e]},o=function(e){return e instanceof Node},i=function(e,t){if(e&&t){e=function(e){return e instanceof NodeList}(e)?e:[e];for(var r=0;r<e.length&&!0!==t(e[r],r,e.length);r++);}},l=function(e){if(Array.isArray(e))return e.join(", ")},c=function(e){var t=[];return i(e,(function(e){return t.push(e)})),t},u=function(e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document;if((!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&-1!==c(r.querySelectorAll(t)).indexOf(e))return e;for(;(e=e.parentElement)&&-1===c(r.querySelectorAll(t)).indexOf(e););return e},s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return-1!==c(r.querySelectorAll(t)).indexOf(e)},a=function(e){if(e)return"hidden"===getComputedStyle(e).overflow},d=function(e){if(e)return!!a(e)||e.scrollTop<=0},f=function(e){if(e){if(a(e))return!0;var t=e.scrollTop,r=e.scrollHeight;return t+e.offsetHeight>=r}},h=function(e){if(e)return!!a(e)||e.scrollLeft<=0},p=function(e){if(e){if(a(e))return!0;var t=e.scrollLeft,r=e.scrollWidth;return t+e.offsetWidth>=r}};function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"disablePageScroll",(function(){return w})),r.d(t,"enablePageScroll",(function(){return y})),r.d(t,"getScrollState",(function(){return b})),r.d(t,"clearQueueScrollLocks",(function(){return E})),r.d(t,"getTargetScrollBarWidth",(function(){return x})),r.d(t,"getCurrentTargetScrollBarWidth",(function(){return S})),r.d(t,"getPageScrollBarWidth",(function(){return _})),r.d(t,"getCurrentPageScrollBarWidth",(function(){return L})),r.d(t,"addScrollableTarget",(function(){return k})),r.d(t,"removeScrollableTarget",(function(){return T})),r.d(t,"addScrollableSelector",(function(){return O})),r.d(t,"removeScrollableSelector",(function(){return R})),r.d(t,"addLockableTarget",(function(){return W})),r.d(t,"addLockableSelector",(function(){return A})),r.d(t,"setFillGapMethod",(function(){return M})),r.d(t,"addFillGapTarget",(function(){return G})),r.d(t,"removeFillGapTarget",(function(){return j})),r.d(t,"addFillGapSelector",(function(){return P})),r.d(t,"removeFillGapSelector",(function(){return C})),r.d(t,"refillGaps",(function(){return Y}));var m=["padding","margin","width","max-width","none"],g={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:m[0],startTouchY:0,startTouchX:0},w=function(e){g.queue<=0&&(g.scroll=!1,z(),D()),k(e),g.queue++},y=function(e){g.queue>0&&g.queue--,g.queue<=0&&(g.scroll=!0,F(),B()),T(e)},b=function(){return g.scroll},E=function(){g.queue=0},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o(e)){var r=e.style.overflowY;t?b()||(e.style.overflowY=e.getAttribute("data-scroll-lock-saved-overflow-y-property")):e.style.overflowY="scroll";var n=S(e);return e.style.overflowY=r,n}return 0},S=function(e){if(o(e)){if(e===document.body){var t=document.documentElement.clientWidth;return window.innerWidth-t}var r=e.style.borderLeftWidth,n=e.style.borderRightWidth;e.style.borderLeftWidth="0px",e.style.borderRightWidth="0px";var i=e.offsetWidth-e.clientWidth;return e.style.borderLeftWidth=r,e.style.borderRightWidth=n,i}return 0},_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return x(document.body,e)},L=function(){return S(document.body)},k=function(e){e&&n(e).map((function(e){i(e,(function(e){o(e)?e.setAttribute("data-scroll-lock-scrollable",""):'"'.concat(e,'" is not a Element.')}))}))},T=function(e){e&&n(e).map((function(e){i(e,(function(e){o(e)?e.removeAttribute("data-scroll-lock-scrollable"):'"'.concat(e,'" is not a Element.')}))}))},O=function(e){e&&n(e).map((function(e){g.scrollableSelectors.push(e)}))},R=function(e){e&&n(e).map((function(e){g.scrollableSelectors=g.scrollableSelectors.filter((function(t){return t!==e}))}))},W=function(e){e&&(n(e).map((function(e){i(e,(function(e){o(e)?e.setAttribute("data-scroll-lock-lockable",""):'"'.concat(e,'" is not a Element.')}))})),b()||z())},A=function(e){e&&(n(e).map((function(e){g.lockableSelectors.push(e)})),b()||z(),P(e))},M=function(e){if(e)if(-1!==m.indexOf(e))g.fillGapMethod=e,Y();else{var t=m.join(", ");'"'.concat(e,'" method is not available!\nAvailable fill gap methods: ').concat(t,".")}},G=function(e){e&&n(e).map((function(e){i(e,(function(e){o(e)?(e.setAttribute("data-scroll-lock-fill-gap",""),g.scroll||$(e)):'"'.concat(e,'" is not a Element.')}))}))},j=function(e){e&&n(e).map((function(e){i(e,(function(e){o(e)?(e.removeAttribute("data-scroll-lock-fill-gap"),g.scroll||Q(e)):'"'.concat(e,'" is not a Element.')}))}))},P=function(e){e&&n(e).map((function(e){-1===g.fillGapSelectors.indexOf(e)&&(g.fillGapSelectors.push(e),g.scroll||I(e))}))},C=function(e){e&&n(e).map((function(e){g.fillGapSelectors=g.fillGapSelectors.filter((function(t){return t!==e})),g.scroll||N(e)}))},Y=function(){g.scroll||D()},z=function(){var e=l(g.lockableSelectors);H(e)},F=function(){var e=l(g.lockableSelectors);q(e)},H=function(e){var t=document.querySelectorAll(e);i(t,(function(e){U(e)}))},q=function(e){var t=document.querySelectorAll(e);i(t,(function(e){X(e)}))},U=function(e){if(o(e)&&"true"!==e.getAttribute("data-scroll-lock-locked")){var t=window.getComputedStyle(e);e.setAttribute("data-scroll-lock-saved-overflow-y-property",t.overflowY),e.setAttribute("data-scroll-lock-saved-inline-overflow-property",e.style.overflow),e.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",e.style.overflowY),e.style.overflow="hidden",e.setAttribute("data-scroll-lock-locked","true")}},X=function(e){o(e)&&"true"===e.getAttribute("data-scroll-lock-locked")&&(e.style.overflow=e.getAttribute("data-scroll-lock-saved-inline-overflow-property"),e.style.overflowY=e.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),e.removeAttribute("data-scroll-lock-saved-overflow-property"),e.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),e.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),e.removeAttribute("data-scroll-lock-locked"))},D=function(){g.fillGapSelectors.map((function(e){I(e)}))},B=function(){g.fillGapSelectors.map((function(e){N(e)}))},I=function(e){var t=document.querySelectorAll(e),r=-1!==g.lockableSelectors.indexOf(e);i(t,(function(e){$(e,r)}))},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o(e)){var r;if(""===e.getAttribute("data-scroll-lock-lockable")||t)r=x(e,!0);else{var n=u(e,l(g.lockableSelectors));r=x(n,!0)}"true"===e.getAttribute("data-scroll-lock-filled-gap")&&Q(e);var i=window.getComputedStyle(e);if(e.setAttribute("data-scroll-lock-filled-gap","true"),e.setAttribute("data-scroll-lock-current-fill-gap-method",g.fillGapMethod),"margin"===g.fillGapMethod){var c=parseFloat(i.marginRight);e.style.marginRight="".concat(c+r,"px")}else if("width"===g.fillGapMethod)e.style.width="calc(100% - ".concat(r,"px)");else if("max-width"===g.fillGapMethod)e.style.maxWidth="calc(100% - ".concat(r,"px)");else if("padding"===g.fillGapMethod){var s=parseFloat(i.paddingRight);e.style.paddingRight="".concat(s+r,"px")}}},N=function(e){var t=document.querySelectorAll(e);i(t,(function(e){Q(e)}))},Q=function(e){if(o(e)&&"true"===e.getAttribute("data-scroll-lock-filled-gap")){var t=e.getAttribute("data-scroll-lock-current-fill-gap-method");e.removeAttribute("data-scroll-lock-filled-gap"),e.removeAttribute("data-scroll-lock-current-fill-gap-method"),"margin"===t?e.style.marginRight="":"width"===t?e.style.width="":"max-width"===t?e.style.maxWidth="":"padding"===t&&(e.style.paddingRight="")}};"undefined"!=typeof window&&window.addEventListener("resize",(function(e){Y()})),"undefined"!=typeof document&&(document.addEventListener("touchstart",(function(e){g.scroll||(g.startTouchY=e.touches[0].clientY,g.startTouchX=e.touches[0].clientX)})),document.addEventListener("touchmove",(function(e){if(!g.scroll){var t=g.startTouchY,r=g.startTouchX,n=e.touches[0].clientY,o=e.touches[0].clientX;if(e.touches.length<2){var i=l(g.scrollableSelectors),c={up:t<n,down:t>n,left:r<o,right:r>o},a={up:t+3<n,down:t-3>n,left:r+3<o,right:r-3>o};!function t(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r){var o=u(r,i,!1);if(function(e){return s(e,'input[type="range"]')}(r))return!1;if(n||function(e){return s(e,'textarea, [contenteditable="true"]')}(r)&&u(r,i)||s(r,i)){var l=!1;h(r)&&p(r)?(c.up&&d(r)||c.down&&f(r))&&(l=!0):d(r)&&f(r)?(c.left&&h(r)||c.right&&p(r))&&(l=!0):(a.up&&d(r)||a.down&&f(r)||a.left&&h(r)||a.right&&p(r))&&(l=!0),l&&(o?t(o,!0):e.cancelable&&e.preventDefault())}else t(o)}else e.cancelable&&e.preventDefault()}(e.target)}}}),{passive:!1}),document.addEventListener("touchend",(function(e){g.scroll||(g.startTouchY=0,g.startTouchX=0)})));var V={hide:function(e){w(e)},show:function(e){y(e)},toggle:function(e){b()?w():y(e)},getState:function(){return b()},getWidth:function(){return _()},getCurrentWidth:function(){return L()},setScrollableTargets:function(e){k(e)},setFillGapSelectors:function(e){P(e)},setFillGapTargets:function(e){G(e)},clearQueue:function(){E()}},Z=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){v(e,t,r[t])}))}return e}({disablePageScroll:w,enablePageScroll:y,getScrollState:b,clearQueueScrollLocks:E,getTargetScrollBarWidth:x,getCurrentTargetScrollBarWidth:S,getPageScrollBarWidth:_,getCurrentPageScrollBarWidth:L,addScrollableSelector:O,removeScrollableSelector:R,addScrollableTarget:k,removeScrollableTarget:T,addLockableSelector:A,addLockableTarget:W,addFillGapSelector:P,removeFillGapSelector:C,addFillGapTarget:G,removeFillGapTarget:j,setFillGapMethod:M,refillGaps:Y,_state:g},V);t.default=Z}]).default}();const i="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),l="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(i())),16.666666666666668);let c=!0,u=!1,s=!1;const a={delta:0,timestamp:0},d=["read","update","preRender","render","postRender"],f=d.reduce(((e,t)=>(e[t]=function(){let e=[],t=[],r=0,n=!1,o=!1;const i=new WeakSet,l={schedule:(o,l=!1,c=!1)=>{const u=c&&n,s=u?e:t;return l&&i.add(o),-1===s.indexOf(o)&&(s.push(o),u&&n&&(r=e.length)),o},cancel:e=>{const r=t.indexOf(e);-1!==r&&t.splice(r,1),i.delete(e)},process:c=>{if(n)o=!0;else{if(n=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let t=0;t<r;t++){const r=e[t];r(c),i.has(r)&&(l.schedule(r),u=!0)}n=!1,o&&(o=!1,l.process(c))}}};return l}(),e)),{}),h=d.reduce(((e,t)=>{const r=f[t];return e[t]=(e,t=!1,n=!1)=>(u||g(),r.schedule(e,t,n)),e}),{}),p=d.reduce(((e,t)=>(e[t]=f[t].cancel,e)),{});d.reduce(((e,t)=>(e[t]=()=>f[t].process(a),e)),{});const v=e=>f[e].process(a),m=e=>{u=!1,a.delta=c?16.666666666666668:Math.max(Math.min(e-a.timestamp,40),1),a.timestamp=e,s=!0,d.forEach(v),s=!1,u&&(c=!1,l(m))},g=()=>{u=!0,c=!0,s||l(m)};var w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,x=/^0o[0-7]+$/i,S=parseInt,_="object"==typeof w&&w&&w.Object===Object&&w,L="object"==typeof self&&self&&self.Object===Object&&self,k=_||L||Function("return this")(),T=Object.prototype.toString,O=Math.max,R=Math.min,W=function(){return k.Date.now()};function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function M(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==T.call(t))return NaN;var t;if(A(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=A(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(y,"");var n=E.test(e);return n||x.test(e)?S(e.slice(2),n?2:8):b.test(e)?NaN:+e}var G=function(e,t,r){var n,o,i,l,c,u,s=0,a=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var r=n,i=o;return n=o=void 0,s=t,l=e.apply(i,r)}function p(e){var r=e-u;return void 0===u||r>=t||r<0||d&&e-s>=i}function v(){var e,r,n=W();if(p(n))return m(n);c=setTimeout(v,(r=t-((e=n)-u),d?R(r,i-(e-s)):r))}function m(e){return c=void 0,f&&n?h(e):(n=o=void 0,l)}function g(){var e=W(),r=p(e);if(n=arguments,o=this,u=e,r){if(void 0===c)return function(e){return s=e,c=setTimeout(v,t),a?h(e):l}(u);if(d)return c=setTimeout(v,t),h(u)}return void 0===c&&(c=setTimeout(v,t)),l}return t=M(t)||0,A(r)&&(a=!!r.leading,i=(d="maxWait"in r)?O(M(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f),g.cancel=function(){void 0!==c&&clearTimeout(c),s=0,n=u=o=c=void 0},g.flush=function(){return void 0===c?l:m(W())},g},j={exports:{}},P="undefined"!=typeof document?document.createElement("p").style:{},C=["O","ms","Moz","Webkit"],Y=/([A-Z])/g,z={};function F(e){if(e=e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()})),void 0!==P[e])return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),r=C.length;r--;){var n=C[r]+t;if(void 0!==P[n])return n}return e}j.exports=function(e){return e in z?z[e]:z[e]=F(e)},j.exports.dash=function(e){return e=F(e),Y.test(e)&&(e="-"+e.replace(Y,"-$1"),Y.lastIndex=0),e.toLowerCase()};const H={isReady:!1,scrollbarWidth:0,windowHeight:0,windowWidth:0},q=()=>{const[e,r]=t.useState(H),n=t.useRef(H),o=t.useCallback((()=>{const e={isReady:!0,scrollbarWidth:window.innerWidth-document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth};r(e),n.current=e}),[]);return t.useEffect((()=>{const e=G(o,100);return window.addEventListener("resize",e),o(),()=>{window.removeEventListener("resize",e)}}),[o]),{windowSize:e,windowSizeRef:n}},U=(e,t,r)=>e+(t-e)*r;class X extends class{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e);e.target=null}}}{constructor(){super(),this._mouseLast={x:0,y:0},this._isTouching=!1,this.mouse={x:0,y:0},this._shouldUpdate=!1,this._onTouchDown=e=>{this._shouldUpdate&&(this._isTouching=!0,this._mouseLast.x="touches"in e?e.touches[0].clientX:e.clientX,this._mouseLast.y="touches"in e?e.touches[0].clientY:e.clientY,this.mouse.x=this._mouseLast.x,this.mouse.y=this._mouseLast.y,this.dispatchEvent({type:"down"}),this.dispatchEvent({type:"mousemove"}))},this._onTouchMove=e=>{if(!this._shouldUpdate)return;const t="touches"in e?e.touches[0].clientX:e.clientX,r="touches"in e?e.touches[0].clientY:e.clientY,n=t-this._mouseLast.x,o=r-this._mouseLast.y;this._mouseLast.x=t,this._mouseLast.y=r,this.mouse.x+=n,this.mouse.y+=o,this.dispatchEvent({type:"mousemove"})},this._onTouchUp=()=>{this._shouldUpdate&&(this._isTouching=!1,this.dispatchEvent({type:"up"}),this.dispatchEvent({type:"mousemove"}))},this._onMouseLeave=()=>{this.dispatchEvent({type:"left"})}}_addEvents(){this._targetEl.addEventListener("mousedown",this._onTouchDown),this._targetEl.addEventListener("mousemove",this._onTouchMove,{passive:!0}),this._targetEl.addEventListener("mouseup",this._onTouchUp),this._targetEl.addEventListener("touchstart",this._onTouchDown,{passive:!0}),this._targetEl.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this._targetEl.addEventListener("touchend",this._onTouchUp),this._targetEl.addEventListener("mouseout",this._onMouseLeave)}_removeEvents(){this._targetEl.removeEventListener("mousedown",this._onTouchDown),this._targetEl.removeEventListener("mousemove",this._onTouchMove),this._targetEl.removeEventListener("mouseup",this._onTouchUp),this._targetEl.removeEventListener("touchstart",this._onTouchDown),this._targetEl.removeEventListener("touchmove",this._onTouchMove),this._targetEl.removeEventListener("touchend",this._onTouchUp),this._targetEl.removeEventListener("mouseout",this._onMouseLeave)}init(e){this._targetEl=window,e&&e.current&&(this._targetEl=e.current),this._addEvents()}destroy(){this._removeEvents()}setShouldUpdate(e){this._shouldUpdate=e}update(){this._mouseLast.x=this.mouse.x,this._mouseLast.y=this.mouse.y}}const D=()=>"undefined"!=typeof window&&("ontouchstart"in window||"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0),B={height:1,width:1,x:1,y:1},I=e=>{const{children:n,strength:o=.14,parallaxContainerRef:i=null,scrollContainerRef:l=null,shouldResetPosition:c=!1,enableOnTouchDevice:u=!1,isAbsolutelyPositioned:s=!1,lerpEase:a=.06,zIndex:d=null,shouldPause:f=!0}=e,{windowSizeRef:v}=q(),m=t.useRef(null),g=t.useRef(null),w=t.useRef(0),y=t.useRef(0),b=t.useRef(0),E=t.useRef(0),x=t.useRef(null),S=t.useRef(null),_=t.useRef(!0),L=t.useRef(B),k=t.useRef(new X),T=t.useRef(null),O=t.useRef(j.exports("transform")),R=()=>{_.current&&m.current&&(m.current.style.willChange="transform",x.current=h.render(A,!0),S.current=h.update(M,!0))},W=()=>{m.current&&(m.current.style.willChange="auto",x.current&&p.render(x.current),S.current&&p.update(S.current))},A=()=>{if(!m.current)return;let e=v.current.windowWidth,t=v.current.windowHeight;i&&i.current&&(e=L.current.width,t=L.current.height),e*=.5,t*=.5,e*=o,t*=o,m.current.style[O.current]=`translate3d(${w.current*e}px, ${y.current*t}px, 0px)`},M=({delta:e})=>{const t=Math.abs(b.current-w.current),r=Math.abs(E.current-y.current);if(t<.001&&r<.001)return;let n=e/16.666666666666668;k.current.update();const o=Math.round(n);o>=1&&(n=o);const i=U(w.current,b.current,a*n);w.current=i;const l=U(y.current,E.current,a*n);y.current=l},P=()=>{document.hidden?W():R()},C=(e,t)=>{let r=v.current.windowWidth,n=v.current.windowHeight,o=e,l=t;return i&&i.current&&(r=L.current.width,n=L.current.height,o=e-L.current.x,l=t-L.current.y),{x:o/r*2-1,y:l/n*2-1}},Y=e=>{const t=e.target.mouse.x,r=e.target.mouse.y,{x:n,y:o}=C(t,r);b.current=n,E.current=o},z=()=>{c&&(b.current=0,E.current=0)},F=e=>{const t="touches"in e?e.touches[0].clientX:e.clientX,r="touches"in e?e.touches[0].clientY:e.clientY,{x:n,y:o}=C(t,r);(n<=-1||n>=1||o>=1||o<=-1)&&z()},H=()=>{if(!i||!i.current)return;const e=i.current.getBoundingClientRect();L.current={x:e.x,y:e.y,width:i.current.clientWidth,height:i.current.clientHeight}},I=G(H,150),$=e=>{if(e[0].isIntersecting)_.current=!0,R(),k.current.setShouldUpdate(!0);else{if(!f)return;_.current=!1,W(),k.current.setShouldUpdate(!1)}};return t.useEffect((()=>{if(!u&&D())return;k.current.init(i),R();let e=window,t=window;return l&&l.current&&(t=l.current),i&&i.current&&(H(),e=i.current,t.addEventListener("scroll",I,{passive:!0}),window.addEventListener("resize",I,{passive:!0})),k.current.addEventListener("mousemove",Y),window.addEventListener("visibilitychange",P),window.addEventListener("touchstart",F,{passive:!0}),e.addEventListener("mouseout",z),T.current=new IntersectionObserver($,{threshold:.5}),g.current&&T.current.observe(g.current),()=>{W(),i&&i.current&&(t.removeEventListener("scroll",I),window.removeEventListener("resize",I)),k.current.removeEventListener("mousemove",Y),window.removeEventListener("visibilitychange",P),window.removeEventListener("touchstart",F),e.removeEventListener("mouseout",z),g.current&&T.current&&T.current.unobserve(g.current),k.current.destroy()}}),[]),r.createElement(r.Fragment,null,r.createElement("span",{ref:g,style:{width:"100%",height:"100%",display:"inline-block",userSelect:"none",pointerEvents:"none",position:s?"absolute":"relative",top:0,left:0,zIndex:d||"initial"}},r.createElement("span",{ref:m,style:{backfaceVisibility:"hidden",position:"relative",width:"100%",height:"100%",display:"inline-block",userSelect:"initial",pointerEvents:"initial"}},n)))},$={xMaxOffset:1,xOffset:1,yMaxOffset:1,yOffset:1},N=t.forwardRef(((e,n)=>{t.useImperativeHandle(n,(()=>({updateValues:C})));const{children:o,strength:i=.14,scrollContainerRef:l=null,enableOnTouchDevice:c=!0,lerpEase:u=.06,isHorizontal:s=!1,isAbsolutelyPositioned:a=!1,zIndex:d=null,shouldPause:f=!0}=e,v=t.useRef(null),m=t.useRef(null),g=t.useRef(1),w=t.useRef(1),y=t.useRef(1),b=t.useRef(1),E=t.useRef(null),x=t.useRef(null),S=t.useRef(!0),_=t.useRef($),L=t.useRef(1),k=t.useRef(1),{windowSizeRef:T}=q(),O=t.useRef(j.exports("transform")),R=()=>{v.current&&(v.current.style.willChange="transform",E.current=h.render(A,!0),x.current=h.update(M,!0))},W=()=>{v.current&&(v.current.style.willChange="auto",E.current&&p.render(E.current),x.current&&p.update(x.current))},A=()=>{if(!S.current)return;if(!v.current)return;let e=s?1:0;v.current.style[O.current]=`translate3d(${g.current*i*e}px, ${w.current*i*(1-e)}px, 0px)`},M=({delta:e})=>{if(!S.current)return;const t=Math.abs(y.current-g.current),r=Math.abs(b.current-w.current);if(t<.001&&r<.001)return;let n=e/16.666666666666668;const o=Math.round(n);o>=1&&(n=o);const i=U(g.current,y.current,u*n);g.current=i;const l=U(w.current,b.current,u*n);w.current=l},P=()=>{document.hidden?W():R()},C=()=>{(()=>{if(!m||!m.current)return;z();const e=m.current.getBoundingClientRect();L.current=_.current.xOffset+e.x+.5*e.width,k.current=_.current.yOffset+e.y+.5*e.height})(),F()},Y=G(C,150),z=()=>{var e;l&&l.current?_.current={xOffset:(e=l.current).scrollLeft,yOffset:e.scrollTop,xMaxOffset:e.scrollWidth-e.offsetWidth,yMaxOffset:e.scrollHeight-e.offsetHeight}:_.current={xOffset:window.pageXOffset,yOffset:window.pageYOffset,xMaxOffset:document.body.clientWidth-window.innerWidth,yMaxOffset:document.body.clientHeight-window.innerHeight}},F=()=>{z();let e=_.current.xOffset-L.current,t=_.current.yOffset-k.current;if(e+=.5*T.current.windowWidth,t+=.5*T.current.windowHeight,y.current=e,b.current=t,Math.abs(b.current)>1.5*T.current.windowHeight||Math.abs(y.current)>1.5*T.current.windowWidth){if(!f)return;S.current=!1}else S.current=!0};return t.useEffect((()=>{if(!c&&D())return;R();let e=window;return l&&l.current&&(e=l.current),e.addEventListener("scroll",F,{passive:!0}),window.addEventListener("visibilitychange",P),window.addEventListener("resize",Y),C(),()=>{W(),e.removeEventListener("scroll",F),window.removeEventListener("visibilitychange",P),window.removeEventListener("resize",Y)}}),[]),r.createElement(r.Fragment,null,r.createElement("span",{ref:m,style:{width:"100%",height:"100%",display:"inline-block",userSelect:"none",pointerEvents:"none",position:a?"absolute":"relative",top:0,left:0,zIndex:d||"initial"}},r.createElement("span",{ref:v,style:{backfaceVisibility:"hidden",position:"relative",width:"100%",height:"100%",display:"inline-block",userSelect:"initial",pointerEvents:"initial"}},o)))}));export{N as G,I as q,o as s};
